# –°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è RentalAll

## üìã –û–±–∑–æ—Ä

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è Django –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π –∏ –æ–ø–µ—Ä–∞—Ü–∏–π.

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤

–í—Å–µ –ª–æ–≥-—Ñ–∞–π–ª—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `backend/logs/`:

- **`general.log`** - –æ–±—â–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- **`errors.log`** - –æ—à–∏–±–∫–∏ Django –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
- **`bookings.log`** - –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏ –∏ –ø–ª–∞—Ç–µ–∂–∞–º–∏
- **`security.log`** - —Å–æ–±—ã—Ç–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (–Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø, –ø–æ–ø—ã—Ç–∫–∏ –≤–∑–ª–æ–º–∞)

### –†–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞: **10 MB**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ backup-—Ñ–∞–π–ª–æ–≤: **5**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

## üîç –ß—Ç–æ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è

### Bookings (–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è)
```python
logger = logging.getLogger('bookings')
```

**–°–æ–±—ã—Ç–∏—è:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: `User, Venue, Start/End dates`
- ‚ùå –û—Ç–º–µ–Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è: `User, Venue, Reason`
- ‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∞–¥–º–∏–Ω–æ–º: `Admin, Booking ID, User`
- üí∞ –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–∞: `Payment ID, Amount, Booking ID`
- ‚ö†Ô∏è –ù–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏: `User, Reason`

### Venues (–ø–ª–æ—â–∞–¥–∫–∏)
```python
logger = logging.getLogger('venues')
```

**–°–æ–±—ã—Ç–∏—è:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–æ—â–∞–¥–∫–∏: `Owner, Title, Price`
- üìù –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–ª–æ—â–∞–¥–∫–∏: `Editor, Venue ID`
- ‚ùå –£–¥–∞–ª–µ–Ω–∏–µ –ø–ª–æ—â–∞–¥–∫–∏: `Deleted by, Venue ID`

### Reviews (–æ—Ç–∑—ã–≤—ã)
```python
logger = logging.getLogger('reviews')
```

**–°–æ–±—ã—Ç–∏—è:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç–∑—ã–≤–∞: `User, Venue, Rating`
- ‚úÖ –û–¥–æ–±—Ä–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞: `Admin, Review ID, Author`
- ‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞: `Admin, Review ID, Reason`

### Users (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
```python
logger = logging.getLogger('users')
logger_security = logging.getLogger('security')
```

**–°–æ–±—ã—Ç–∏—è:**
- ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: `Email, Name`
- üîí –°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è: `User`
- ‚ö†Ô∏è –ù–µ—É–¥–∞—á–Ω–∞—è –ø–æ–ø—ã—Ç–∫–∞ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è: `User, Reason`

### Security (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
```python
security_logger = logging.getLogger('security')
```

**–°–æ–±—ã—Ç–∏—è:**
- üö´ 401 Unauthorized: `Path, Method, IP`
- üö´ 403 Forbidden: `User, Path, Method, IP`
- üîí –ù–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –≤—Ö–æ–¥–∞/–∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

## üìä –§–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤

### Verbose (–¥–ª—è —Ñ–∞–π–ª–æ–≤)
```
[INFO] 2026-01-11 12:30:45 bookings views create | Booking created: ID=123, User=user@example.com, Venue=–ö–æ–≤–æ—Ä–∫–∏–Ω–≥, Start=2026-01-15 10:00:00, End=2026-01-15 18:00:00
```

### Simple (–¥–ª—è –∫–æ–Ω—Å–æ–ª–∏)
```
[INFO] 2026-01-11 12:30:45 | Booking created: ID=123
```

## üõ†Ô∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ `backend/rentalall/settings.py`:

```python
LOGGING = {
    'version': 1,
    'disable_existing_loggers': False,
    'formatters': {...},
    'handlers': {...},
    'loggers': {...},
}
```

### Handlers (–æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏)
- `console` - –≤—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å (—É—Ä–æ–≤–µ–Ω—å INFO)
- `file_general` - –æ–±—â–∏–π —Ñ–∞–π–ª (—É—Ä–æ–≤–µ–Ω—å INFO)
- `file_errors` - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏ (—É—Ä–æ–≤–µ–Ω—å ERROR)
- `file_bookings` - –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (—É—Ä–æ–≤–µ–Ω—å INFO)
- `file_security` - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (—É—Ä–æ–≤–µ–Ω—å WARNING)

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í views
```python
import logging

logger = logging.getLogger('bookings')

def create_booking(request):
    # ... –ª–æ–≥–∏–∫–∞ ...
    logger.info(f"Booking created: ID={booking.id}, User={request.user.email}")
```

### –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
```python
security_logger = logging.getLogger('security')

if not request.user.is_admin():
    security_logger.warning(
        f"Unauthorized admin access attempt: User={request.user.email}, Path={request.path}"
    )
```

## üîç –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ (Production)
```bash
# –û–±—â–∏–µ –ª–æ–≥–∏
tail -f backend/logs/general.log

# –û—à–∏–±–∫–∏
tail -f backend/logs/errors.log

# –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
tail -f backend/logs/bookings.log

# –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
tail -f backend/logs/security.log

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫ —Å —Ñ–∏–ª—å—Ç—Ä–æ–º
tail -n 100 backend/logs/bookings.log | grep "ERROR"
```

### –õ–æ–∫–∞–ª—å–Ω–æ (Development)
–õ–æ–≥–∏ —Ç–∞–∫–∂–µ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ `python manage.py runserver`.

## ‚ö° Production Recommendations

1. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤:**
   - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Sentry –¥–ª—è real-time –∞–ª–µ—Ä—Ç–æ–≤
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è ERROR/CRITICAL

2. **–ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤:**
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ELK Stack (Elasticsearch + Logstash + Kibana)
   - –ò–ª–∏ Grafana Loki –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏

3. **Backup:**
   - –†–µ–≥—É–ª—è—Ä–Ω–æ –∞—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—ã–µ –ª–æ–≥–∏
   - –•—Ä–∞–Ω–∏—Ç—å –∞—Ä—Ö–∏–≤—ã –º–∏–Ω–∏–º—É–º 30 –¥–Ω–µ–π

4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
   - –ü—Ä–∏ –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
   - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å buffer –¥–ª—è –∑–∞–ø–∏—Å–∏ –ª–æ–≥–æ–≤

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ùå **–ù–ï –õ–û–ì–ò–†–û–í–ê–¢–¨:**
- –ü–∞—Ä–æ–ª–∏ (–¥–∞–∂–µ —Ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
- –¢–æ–∫–µ–Ω—ã –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–∫—Ä–æ–º–µ email –∏ –∏–º–µ–Ω–∏)
- –î–∞–Ω–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–Ω—ã—Ö –∫–∞—Ä—Ç

‚úÖ **–õ–û–ì–ò–†–û–í–ê–¢–¨:**
- ID –∑–∞–ø–∏—Å–µ–π, –∞ –Ω–µ –ø–æ–ª–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã
- Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- IP-–∞–¥—Ä–µ—Å–∞ –¥–ª—è security events
- Timestamp –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- [Django Logging Documentation](https://docs.djangoproject.com/en/stable/topics/logging/)
- [Python logging module](https://docs.python.org/3/library/logging.html)

---

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2026-01-11  
**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-11
